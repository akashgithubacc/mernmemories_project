{"ast":null,"code":"import React,{useEffect}from\"react\";import{Paper,Typography,CircularProgress,Divider}from\"@material-ui/core\";import{useDispatch,useSelector}from\"react-redux\";import moment from\"moment\";import{useParams,useNavigate}from\"react-router-dom\";import useStyles from\"./styles\";import{getPost,getPostBySearch}from\"../../actions/posts\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PostDetails=function PostDetails(){var classes=useStyles();var _useSelector=useSelector(function(state){return state.posts;}),post=_useSelector.post,posts=_useSelector.posts,isLoading=_useSelector.isLoading;var dispatch=useDispatch();var navigate=useNavigate();var _useParams=useParams(),id=_useParams.id;useEffect(function(){dispatch(getPost(id));},[id]);useEffect(function(){if(post){dispatch(getPostBySearch({search:\"none\",tags:post===null||post===void 0?void 0:post.tags.join(\",\")}));}},[post]);if(!post)return null;if(isLoading){return/*#__PURE__*/_jsx(Paper,{elevation:6,className:classes.loadingPaper,children:/*#__PURE__*/_jsx(CircularProgress,{size:\"7em\"})});}var recommendedPosts=posts.filter(function(_ref){var _id=_ref._id;return _id!==post._id;});var openPost=function openPost(_id){return navigate(\"/posts/\".concat(_id));};return/*#__PURE__*/_jsxs(Paper,{style:{padding:\"20px\",borderRadius:\"15px\"},elevation:6,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.card,children:[/*#__PURE__*/_jsxs(\"div\",{className:classes.section,children:[/*#__PURE__*/_jsx(Typography,{variant:\"h3\",component:\"h2\",children:post.title}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",color:\"textSecondary\",component:\"h2\",children:post.tags.map(function(tag){return\"#\".concat(tag,\" \");})}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"body1\",component:\"p\",children:post.message}),/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\"Created by: \",post.creator]}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:moment(post.createdAt).fromNow()}),/*#__PURE__*/_jsx(Divider,{style:{margin:\"20px 0\"}}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Realtime Chat - coming soon!\"})}),/*#__PURE__*/_jsx(Divider,{style:{margin:\"20px 0\"}}),/*#__PURE__*/_jsx(Typography,{variant:\"body1\",children:/*#__PURE__*/_jsx(\"strong\",{children:\"Comments - coming soon!\"})}),/*#__PURE__*/_jsx(Divider,{style:{margin:\"20px 0\"}})]}),/*#__PURE__*/_jsx(\"div\",{className:classes.imageSection,children:/*#__PURE__*/_jsx(\"img\",{className:classes.media,src:post.selectedFile||\"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\",alt:post.title})})]}),recommendedPosts.length&&/*#__PURE__*/_jsxs(\"div\",{className:classes.section,children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h5\",children:\"You might also like:\"}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(\"div\",{className:classes.recommendedPosts,children:recommendedPosts.map(function(_ref2){var title=_ref2.title,message=_ref2.message,creator=_ref2.creator,likeCount=_ref2.likeCount,selectedFile=_ref2.selectedFile,_id=_ref2._id;return/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"20px\",cursor:\"pointer\"},onClick:function onClick(){return openPost(_id);},children:[/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"h6\",children:title}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"subtitle2\",children:creator}),/*#__PURE__*/_jsx(Typography,{gutterBottom:true,variant:\"subtitle2\",children:message}),/*#__PURE__*/_jsxs(Typography,{gutterBottom:true,variant:\"subtitle1\",children:[\"Likes : \",likeCount]}),/*#__PURE__*/_jsx(\"img\",{src:selectedFile,width:\"200px\",alt:\"img\"}),\"s\"]},_id);})})]})]});};export default PostDetails;","map":{"version":3,"names":["React","useEffect","Paper","Typography","CircularProgress","Divider","useDispatch","useSelector","moment","useParams","useNavigate","useStyles","getPost","getPostBySearch","jsx","_jsx","jsxs","_jsxs","PostDetails","classes","_useSelector","state","posts","post","isLoading","dispatch","navigate","_useParams","id","search","tags","join","elevation","className","loadingPaper","children","size","recommendedPosts","filter","_ref","_id","openPost","concat","style","padding","borderRadius","card","section","variant","component","title","gutterBottom","color","map","tag","message","creator","createdAt","fromNow","margin","imageSection","media","src","selectedFile","alt","length","_ref2","likeCount","cursor","onClick","width"],"sources":["C:/Users/deepa/OneDrive/Desktop/Complete Web Development/mernmemories/client/src/components/PostDetails/PostDetails.jsx"],"sourcesContent":["import React, { useEffect } from \"react\";\r\nimport {\r\n  Paper,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider,\r\n} from \"@material-ui/core\";\r\n\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport moment from \"moment\";\r\nimport { useParams, useNavigate } from \"react-router-dom\";\r\nimport useStyles from \"./styles\";\r\nimport { getPost, getPostBySearch } from \"../../actions/posts\";\r\n\r\nconst PostDetails = () => {\r\n  const classes = useStyles();\r\n  const { post, posts, isLoading } = useSelector((state) => state.posts);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    dispatch(getPost(id));\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (post) {\r\n      dispatch(getPostBySearch({ search: \"none\", tags: post?.tags.join(\",\") }));\r\n    }\r\n  }, [post]);\r\n\r\n  if (!post) return null;\r\n\r\n  if (isLoading) {\r\n    return (\r\n      <Paper elevation={6} className={classes.loadingPaper}>\r\n        <CircularProgress size=\"7em\" />\r\n      </Paper>\r\n    );\r\n  }\r\n\r\n  const recommendedPosts = posts.filter(({ _id }) => _id !== post._id);\r\n  const openPost = (_id) => navigate(`/posts/${_id}`);\r\n\r\n  return (\r\n    <Paper style={{ padding: \"20px\", borderRadius: \"15px\" }} elevation={6}>\r\n      <div className={classes.card}>\r\n        <div className={classes.section}>\r\n          <Typography variant=\"h3\" component=\"h2\">\r\n            {post.title}\r\n          </Typography>\r\n          <Typography\r\n            gutterBottom\r\n            variant=\"h6\"\r\n            color=\"textSecondary\"\r\n            component=\"h2\"\r\n          >\r\n            {post.tags.map((tag) => `#${tag} `)}\r\n          </Typography>\r\n          <Typography gutterBottom variant=\"body1\" component=\"p\">\r\n            {post.message}\r\n          </Typography>\r\n          <Typography variant=\"h6\">Created by: {post.creator}</Typography>\r\n          <Typography variant=\"body1\">\r\n            {moment(post.createdAt).fromNow()}\r\n          </Typography>\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n          <Typography variant=\"body1\">\r\n            <strong>Realtime Chat - coming soon!</strong>\r\n          </Typography>\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n          <Typography variant=\"body1\">\r\n            <strong>Comments - coming soon!</strong>\r\n          </Typography>\r\n          <Divider style={{ margin: \"20px 0\" }} />\r\n        </div>\r\n        <div className={classes.imageSection}>\r\n          <img\r\n            className={classes.media}\r\n            src={\r\n              post.selectedFile ||\r\n              \"https://user-images.githubusercontent.com/194400/49531010-48dad180-f8b1-11e8-8d89-1e61320e1d82.png\"\r\n            }\r\n            alt={post.title}\r\n          />\r\n        </div>\r\n      </div>\r\n      {recommendedPosts.length && (\r\n        <div className={classes.section}>\r\n          <Typography gutterBottom variant=\"h5\">\r\n            You might also like:\r\n          </Typography>\r\n\r\n          <Divider />\r\n          <div className={classes.recommendedPosts}>\r\n            {recommendedPosts.map(\r\n              ({ title, message, creator, likeCount, selectedFile, _id }) => (\r\n                <div\r\n                  style={{ margin: \"20px\", cursor: \"pointer\" }}\r\n                  onClick={() => openPost(_id)}\r\n                  key={_id}\r\n                >\r\n                  <Typography gutterBottom variant=\"h6\">\r\n                    {title}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle2\">\r\n                    {creator}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle2\">\r\n                    {message}\r\n                  </Typography>\r\n                  <Typography gutterBottom variant=\"subtitle1\">\r\n                    Likes : {likeCount}\r\n                  </Typography>\r\n                  <img src={selectedFile} width=\"200px\" alt=\"img\" />s\r\n                </div>\r\n              )\r\n            )}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default PostDetails;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}