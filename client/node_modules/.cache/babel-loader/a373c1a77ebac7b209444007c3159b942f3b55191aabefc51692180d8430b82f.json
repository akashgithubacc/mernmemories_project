{"ast":null,"code":"import _slicedToArray from\"C:/Users/deepa/OneDrive/Desktop/Complete Web Development/mernmemories/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import{AppBar,Avatar,Button,Toolbar,Typography}from\"@material-ui/core\";import memoriesLogo from\"../../images/memories-Logo.png\";import memoriesText from\"../../images/memories-Text.png\";import useStyles from\"./styles\";import{Link}from\"react-router-dom\";import{useDispatch}from\"react-redux\";import{useNavigate,useLocation}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Navbar=function Navbar(_ref){var isLoggedIn=_ref.isLoggedIn,setIsLoggedIn=_ref.setIsLoggedIn;var classes=useStyles();var _useState=useState(JSON.parse(localStorage.getItem(\"profile\"))),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];var dispatch=useDispatch();var navigate=useNavigate();var location=useLocation();var dataLocal=localStorage.getItem(\"profile\");useEffect(function(){if(dataLocal){setIsLoggedIn(true);}else{setIsLoggedIn(false);}setUser(JSON.parse(localStorage.getItem(\"profile\")));},[location]);var logout=function logout(){dispatch({type:\"LOGOUT\"});navigate(\"/\");setUser(null);};return/*#__PURE__*/_jsxs(AppBar,{className:classes.appBar,position:\"static\",color:\"inherit\",children:[/*#__PURE__*/_jsxs(Link,{to:\"/\",className:classes.brandContainer,children:[/*#__PURE__*/_jsx(\"img\",{src:memoriesText,alt:\"icon\",height:\"45px\"}),/*#__PURE__*/_jsx(\"img\",{className:classes.image,src:memoriesLogo,alt:\"memories\",height:40})]}),/*#__PURE__*/_jsx(Toolbar,{className:classes.toolbar,children:user?/*#__PURE__*/_jsxs(\"div\",{className:classes.profile,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.purple,alt:user.result.name,src:user.result.imageUrl,children:user.result.name.charAt(0)}),/*#__PURE__*/_jsx(Typography,{className:classes.userName,variant:\"h6\",children:user.result.name}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",className:classes.logout,color:\"secondary\",onClick:logout,children:\"Logout\"})]}):/*#__PURE__*/_jsx(Button,{component:Link,to:\"/auth\",variant:\"contained\",color:\"primary\",children:\"Sign in\"})})]});};export default Navbar;","map":{"version":3,"names":["React","useState","useEffect","AppBar","Avatar","Button","Toolbar","Typography","memoriesLogo","memoriesText","useStyles","Link","useDispatch","useNavigate","useLocation","jsx","_jsx","jsxs","_jsxs","Navbar","_ref","isLoggedIn","setIsLoggedIn","classes","_useState","JSON","parse","localStorage","getItem","_useState2","_slicedToArray","user","setUser","dispatch","navigate","location","dataLocal","logout","type","className","appBar","position","color","children","to","brandContainer","src","alt","height","image","toolbar","profile","purple","result","name","imageUrl","charAt","userName","variant","onClick","component"],"sources":["C:/Users/deepa/OneDrive/Desktop/Complete Web Development/mernmemories/client/src/components/Navbar/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { AppBar, Avatar, Button, Toolbar, Typography } from \"@material-ui/core\";\r\nimport memoriesLogo from \"../../images/memories-Logo.png\";\r\nimport memoriesText from \"../../images/memories-Text.png\";\r\nimport useStyles from \"./styles\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\n\r\nconst Navbar = ({ isLoggedIn, setIsLoggedIn }) => {\r\n  const classes = useStyles();\r\n  const [user, setUser] = useState(JSON.parse(localStorage.getItem(\"profile\")));\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const location = useLocation();\r\n\r\n  const dataLocal = localStorage.getItem(\"profile\");\r\n\r\n  useEffect(() => {\r\n    if (dataLocal) {\r\n      setIsLoggedIn(true);\r\n    } else {\r\n      setIsLoggedIn(false);\r\n    }\r\n    setUser(JSON.parse(localStorage.getItem(\"profile\")));\r\n  }, [location]);\r\n\r\n  const logout = () => {\r\n    dispatch({ type: \"LOGOUT\" });\r\n    navigate(\"/\");\r\n    setUser(null);\r\n  };\r\n\r\n  return (\r\n    <AppBar className={classes.appBar} position=\"static\" color=\"inherit\">\r\n      <Link to=\"/\" className={classes.brandContainer}>\r\n        <img src={memoriesText} alt=\"icon\" height=\"45px\" />\r\n        <img\r\n          className={classes.image}\r\n          src={memoriesLogo}\r\n          alt=\"memories\"\r\n          height={40}\r\n        />\r\n      </Link>\r\n\r\n      <Toolbar className={classes.toolbar}>\r\n        {user ? (\r\n          <div className={classes.profile}>\r\n            <Avatar\r\n              className={classes.purple}\r\n              alt={user.result.name}\r\n              src={user.result.imageUrl}\r\n            >\r\n              {user.result.name.charAt(0)}\r\n            </Avatar>\r\n\r\n            <Typography className={classes.userName} variant=\"h6\">\r\n              {user.result.name}\r\n            </Typography>\r\n\r\n            <Button\r\n              variant=\"contained\"\r\n              className={classes.logout}\r\n              color=\"secondary\"\r\n              onClick={logout}\r\n            >\r\n              Logout\r\n            </Button>\r\n          </div>\r\n        ) : (\r\n          <Button\r\n            component={Link}\r\n            to=\"/auth\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n          >\r\n            Sign in\r\n          </Button>\r\n        )}\r\n      </Toolbar>\r\n    </AppBar>\r\n  );\r\n};\r\n\r\nexport default Navbar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}