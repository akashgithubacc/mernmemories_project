{"ast":null,"code":"import React from\"react\";import useStyles from\"./styles\";import{Card,CardActions,CardContent,CardMedia,Button,Typography,ButtonBase}from\"@mui/material\";import ThumbUpAltIcon from\"@material-ui/icons/ThumbUpAlt\";import ThumbUpOutlinedIcon from\"@material-ui/icons/ThumbUpOutlined\";import DeleteOutlinedIcon from\"@material-ui/icons/DeleteOutline\";import DeleteIcon from\"@material-ui/icons/Delete\";import MoreHorizIcon from\"@material-ui/icons/MoreHoriz\";import moment from\"moment\";import{useDispatch}from\"react-redux\";import{deletePost,likePost}from\"../../../actions/posts\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Post=function Post(_ref){var _user$result;var post=_ref.post,setCurrentId=_ref.setCurrentId,isLoggedIn=_ref.isLoggedIn;var classes=useStyles();var dispatch=useDispatch();var navigate=useNavigate();var openPost=function openPost(){return navigate(\"/posts/\".concat(post._id));};var user=JSON.parse(localStorage.getItem(\"profile\"));var userName=user===null||user===void 0?void 0:(_user$result=user.result)===null||_user$result===void 0?void 0:_user$result.name;console.log(userName);return/*#__PURE__*/_jsxs(Card,{className:classes.card,raised:true,elevation:6,children:[/*#__PURE__*/_jsx(CardMedia,{className:classes.media,image:post.selectedFile,title:post.title,onClick:openPost}),/*#__PURE__*/_jsxs(\"div\",{className:classes.overlay,onClick:openPost,children:[/*#__PURE__*/_jsxs(Typography,{variant:\"h6\",children:[\" \",post.creator,\" \"]}),/*#__PURE__*/_jsxs(Typography,{variant:\"body2\",children:[\" \",moment(post.createdAt).fromNow(),\" \"]})]}),post.creator===userName&&/*#__PURE__*/_jsx(\"div\",{className:classes.overlay2,children:/*#__PURE__*/_jsx(Button,{style:{color:\"white\"},size:\"small\",onClick:function onClick(){return setCurrentId(post._id);},children:/*#__PURE__*/_jsx(MoreHorizIcon,{fontSize:\"default\"})})}),/*#__PURE__*/_jsx(\"div\",{className:classes.details,onClick:openPost,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",children:post.tags.map(function(tag){return\"#\".concat(tag,\" \");})})}),/*#__PURE__*/_jsx(Typography,{className:classes.title,variant:\"h5\",color:\"gutterBottom\",onClick:openPost,children:post.title}),/*#__PURE__*/_jsx(CardContent,{onClick:openPost,children:/*#__PURE__*/_jsx(Typography,{variant:\"body2\",color:\"textSecondary\",component:\"p\",children:post.message})}),isLoggedIn?/*#__PURE__*/_jsxs(CardActions,{className:classes.cardActions,children:[/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",onClick:function onClick(){return dispatch(likePost(post._id));},children:[/*#__PURE__*/_jsx(ThumbUpAltIcon,{fontSize:\"small\"}),\"\\xA0 Like \\xA0\",post.likeCount]}),post.creator===userName&&/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",onClick:function onClick(){return dispatch(deletePost(post._id));},style:{color:\"red\"},children:[/*#__PURE__*/_jsx(DeleteIcon,{fontSize:\"small\"}),\"\\xA0 Delete\"]})]}):/*#__PURE__*/_jsx(CardActions,{className:classes.cardActions,children:/*#__PURE__*/_jsxs(Button,{size:\"small\",color:\"primary\",children:[/*#__PURE__*/_jsx(ThumbUpOutlinedIcon,{fontSize:\"small\"}),\"\\xA0 Like \\xA0\",post.likeCount]})})]});};export default Post;","map":{"version":3,"names":["React","useStyles","Card","CardActions","CardContent","CardMedia","Button","Typography","ButtonBase","ThumbUpAltIcon","ThumbUpOutlinedIcon","DeleteOutlinedIcon","DeleteIcon","MoreHorizIcon","moment","useDispatch","deletePost","likePost","useNavigate","jsx","_jsx","jsxs","_jsxs","Post","_ref","_user$result","post","setCurrentId","isLoggedIn","classes","dispatch","navigate","openPost","concat","_id","user","JSON","parse","localStorage","getItem","userName","result","name","console","log","className","card","raised","elevation","children","media","image","selectedFile","title","onClick","overlay","variant","creator","createdAt","fromNow","overlay2","style","color","size","fontSize","details","tags","map","tag","component","message","cardActions","likeCount"],"sources":["C:/Users/deepa/OneDrive/Desktop/Complete Web Development/mernmemories/client/src/components/Posts/Post/Post.js"],"sourcesContent":["import React from \"react\";\r\nimport useStyles from \"./styles\";\r\nimport {\r\n  Card,\r\n  CardActions,\r\n  CardContent,\r\n  CardMedia,\r\n  Button,\r\n  Typography,\r\n  ButtonBase,\r\n} from \"@mui/material\";\r\nimport ThumbUpAltIcon from \"@material-ui/icons/ThumbUpAlt\";\r\nimport ThumbUpOutlinedIcon from \"@material-ui/icons/ThumbUpOutlined\";\r\nimport DeleteOutlinedIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport MoreHorizIcon from \"@material-ui/icons/MoreHoriz\";\r\nimport moment from \"moment\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { deletePost, likePost } from \"../../../actions/posts\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst Post = ({ post, setCurrentId, isLoggedIn }) => {\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n  const openPost = () => navigate(`/posts/${post._id}`);\r\n\r\n  const user = JSON.parse(localStorage.getItem(\"profile\"));\r\n\r\n  const userName = user?.result?.name;\r\n  console.log(userName);\r\n\r\n  return (\r\n    <Card className={classes.card} raised elevation={6}>\r\n      <CardMedia\r\n        className={classes.media}\r\n        image={post.selectedFile}\r\n        title={post.title}\r\n        onClick={openPost}\r\n      />\r\n      <div className={classes.overlay} onClick={openPost}>\r\n        <Typography variant=\"h6\"> {post.creator} </Typography>\r\n        <Typography variant=\"body2\">\r\n          {\" \"}\r\n          {moment(post.createdAt).fromNow()}{\" \"}\r\n        </Typography>\r\n      </div>\r\n\r\n      {post.creator === userName && (\r\n        <div className={classes.overlay2}>\r\n          <Button\r\n            style={{ color: \"white\" }}\r\n            size=\"small\"\r\n            onClick={() => setCurrentId(post._id)}\r\n          >\r\n            <MoreHorizIcon fontSize=\"default\" />\r\n          </Button>\r\n        </div>\r\n      )}\r\n\r\n      <div className={classes.details} onClick={openPost}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\">\r\n          {post.tags.map((tag) => `#${tag} `)}\r\n        </Typography>\r\n      </div>\r\n\r\n      <Typography\r\n        className={classes.title}\r\n        variant=\"h5\"\r\n        color=\"gutterBottom\"\r\n        onClick={openPost}\r\n      >\r\n        {post.title}\r\n      </Typography>\r\n\r\n      <CardContent onClick={openPost}>\r\n        <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\r\n          {post.message}\r\n        </Typography>\r\n      </CardContent>\r\n\r\n      {isLoggedIn ? (\r\n        <CardActions className={classes.cardActions}>\r\n          <Button\r\n            size=\"small\"\r\n            color=\"primary\"\r\n            onClick={() => dispatch(likePost(post._id))}\r\n          >\r\n            <ThumbUpAltIcon fontSize=\"small\" />\r\n            &nbsp; Like &nbsp;\r\n            {post.likeCount}\r\n          </Button>\r\n\r\n          {post.creator === userName && (\r\n            <Button\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              onClick={() => dispatch(deletePost(post._id))}\r\n              style={{ color: \"red\" }}\r\n            >\r\n              <DeleteIcon fontSize=\"small\" />\r\n              &nbsp; Delete\r\n            </Button>\r\n          )}\r\n        </CardActions>\r\n      ) : (\r\n        <CardActions className={classes.cardActions}>\r\n          <Button size=\"small\" color=\"primary\">\r\n            <ThumbUpOutlinedIcon fontSize=\"small\" />\r\n            &nbsp; Like &nbsp;\r\n            {post.likeCount}\r\n          </Button>\r\n        </CardActions>\r\n      )}\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}