{"ast":null,"code":"import _toConsumableArray from\"C:/Users/deepa/OneDrive/Desktop/Complete Web Development/mernmemories/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/deepa/OneDrive/Desktop/Complete Web Development/mernmemories/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{React,useEffect,useState}from\"react\";import{Container,Grow,Grid,Paper,TextField,Button}from\"@material-ui/core\";import Posts from\"../Posts/Posts\";import Form from\"../Form/Form\";import{useDispatch}from\"react-redux\";import{getPosts,getPostBySearch}from\"../../actions/posts\";import useStyles from\"./styles\";import Paginate from\"../Pagination\";import{useNavigate,useLocation}from\"react-router-dom\";import ChipInput from\"material-ui-chip-input\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useQuery(){return new URLSearchParams(useLocation().search);}var Home=function Home(_ref){var isLoggedIn=_ref.isLoggedIn;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),currentId=_useState2[0],setCurrentId=_useState2[1];var query=useQuery();var navigate=useNavigate();var page=query.get(\"page\")||1;var classes=useStyles();var dispatch=useDispatch();var searchQuery=query.get(\"searchQuery\");var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),search=_useState4[0],setSearch=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),tags=_useState6[0],setTags=_useState6[1];var searchPost=function searchPost(){if(search.trim()||tags){dispatch(getPostBySearch({search:search,tags:tags.join(\",\")}));navigate(\"/posts/search?searchQuery=\".concat(search||\"none\",\"&tags=\").concat(tags.join(\",\")));}else{navigate(\"/\");}};var handleKeyDown=function handleKeyDown(e){if(e.keyCode===13){searchPost();}};var handleAdd=function handleAdd(tag){return setTags([].concat(_toConsumableArray(tags),[tag]));};var handleDelete=function handleDelete(tagToDelete){return setTags(tags.filter(function(tag){return tag!==tagToDelete;}));};return/*#__PURE__*/_jsx(Grow,{in:true,children:/*#__PURE__*/_jsx(Container,{maxWidth:\"xl\",children:/*#__PURE__*/_jsxs(Grid,{className:classes.gridContainers,container:true,justifyContent:\"space-between\",alignItems:\"stretch\",spacing:3,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:9,children:/*#__PURE__*/_jsx(Posts,{setCurrentId:setCurrentId,isLoggedIn:isLoggedIn})}),/*#__PURE__*/_jsxs(Grid,{item:true,xs:12,sm:6,md:3,children:[/*#__PURE__*/_jsx(Paper,{className:classes.appBarSearch,position:\"static\",color:\"primary\",raised:true,elevation:6,children:/*#__PURE__*/_jsxs(\"form\",{autoComplete:\"off\",noValidate:true,children:[/*#__PURE__*/_jsx(TextField,{name:\"search\",variant:\"outlined\",label:\"Search Memories\",fullWidth:true,value:search,onChange:function onChange(e){return setSearch(e.target.value);},onKeyDown:handleKeyDown}),/*#__PURE__*/_jsx(ChipInput,{fullWidth:true,position:\"static\",className:classes.ChipInput,style:{margin:\"10px 0\"},value:tags,onAdd:handleAdd,onDelete:handleDelete,label:\"Search Tags\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Button,{onClick:searchPost,className:classes.searchButton,color:\"primary\",variant:\"contained\",fullWidth:true,children:\"Search\"})]})}),/*#__PURE__*/_jsx(Form,{currentId:currentId,setCurrentId:setCurrentId,isLoggedIn:isLoggedIn}),/*#__PURE__*/_jsx(Paper,{className:classes.pagination,elevation:6,children:/*#__PURE__*/_jsx(Paginate,{page:page})})]})]})})});};export default Home;","map":{"version":3,"names":["React","useEffect","useState","Container","Grow","Grid","Paper","TextField","Button","Posts","Form","useDispatch","getPosts","getPostBySearch","useStyles","Paginate","useNavigate","useLocation","ChipInput","jsx","_jsx","jsxs","_jsxs","useQuery","URLSearchParams","search","Home","_ref","isLoggedIn","_useState","_useState2","_slicedToArray","currentId","setCurrentId","query","navigate","page","get","classes","dispatch","searchQuery","_useState3","_useState4","setSearch","_useState5","_useState6","tags","setTags","searchPost","trim","join","concat","handleKeyDown","e","keyCode","handleAdd","tag","_toConsumableArray","handleDelete","tagToDelete","filter","in","children","maxWidth","className","gridContainers","container","justifyContent","alignItems","spacing","item","xs","sm","md","appBarSearch","position","color","raised","elevation","autoComplete","noValidate","name","variant","label","fullWidth","value","onChange","target","onKeyDown","style","margin","onAdd","onDelete","onClick","searchButton","pagination"],"sources":["C:/Users/deepa/OneDrive/Desktop/Complete Web Development/mernmemories/client/src/components/Home/Home.js"],"sourcesContent":["import { React, useEffect, useState } from \"react\";\r\nimport {\r\n  Container,\r\n  Grow,\r\n  Grid,\r\n  Paper,\r\n  TextField,\r\n  Button,\r\n} from \"@material-ui/core\";\r\nimport Posts from \"../Posts/Posts\";\r\nimport Form from \"../Form/Form\";\r\nimport { useDispatch } from \"react-redux\";\r\nimport { getPosts, getPostBySearch } from \"../../actions/posts\";\r\nimport useStyles from \"./styles\";\r\nimport Paginate from \"../Pagination\";\r\nimport { useNavigate, useLocation } from \"react-router-dom\";\r\nimport ChipInput from \"material-ui-chip-input\";\r\n\r\nfunction useQuery() {\r\n  return new URLSearchParams(useLocation().search);\r\n}\r\n\r\nconst Home = ({ isLoggedIn }) => {\r\n  const [currentId, setCurrentId] = useState(null);\r\n  const query = useQuery();\r\n  const navigate = useNavigate();\r\n  const page = query.get(\"page\") || 1;\r\n  const classes = useStyles();\r\n  const dispatch = useDispatch();\r\n  const searchQuery = query.get(\"searchQuery\");\r\n\r\n  const [search, setSearch] = useState(\"\");\r\n  const [tags, setTags] = useState([]);\r\n\r\n  const searchPost = () => {\r\n    if (search.trim() || tags) {\r\n      dispatch(getPostBySearch({ search, tags: tags.join(\",\") }));\r\n      navigate(\r\n        `/posts/search?searchQuery=${search || \"none\"}&tags=${tags.join(\",\")}`\r\n      );\r\n    } else {\r\n      navigate(\"/\");\r\n    }\r\n  };\r\n\r\n  const handleKeyDown = (e) => {\r\n    if (e.keyCode === 13) {\r\n      searchPost();\r\n    }\r\n  };\r\n\r\n  const handleAdd = (tag) => setTags([...tags, tag]);\r\n  const handleDelete = (tagToDelete) =>\r\n    setTags(tags.filter((tag) => tag !== tagToDelete));\r\n\r\n  return (\r\n    <Grow in>\r\n      <Container maxWidth=\"xl\">\r\n        <Grid\r\n          className={classes.gridContainers}\r\n          container\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"stretch\"\r\n          spacing={3}\r\n        >\r\n          <Grid item xs={12} sm={6} md={9}>\r\n            <Posts setCurrentId={setCurrentId} isLoggedIn={isLoggedIn} />\r\n          </Grid>\r\n          <Grid item xs={12} sm={6} md={3}>\r\n            <Paper\r\n              className={classes.appBarSearch}\r\n              position=\"static\"\r\n              color=\"primary\"\r\n              raised\r\n              elevation={6}\r\n            >\r\n              <form autoComplete=\"off\" noValidate>\r\n                <TextField\r\n                  name=\"search\"\r\n                  variant=\"outlined\"\r\n                  label=\"Search Memories\"\r\n                  fullWidth\r\n                  value={search}\r\n                  onChange={(e) => setSearch(e.target.value)}\r\n                  onKeyDown={handleKeyDown}\r\n                />\r\n                <ChipInput\r\n                  fullWidth\r\n                  position=\"static\"\r\n                  className={classes.ChipInput}\r\n                  style={{ margin: \"10px 0\" }}\r\n                  value={tags}\r\n                  onAdd={handleAdd}\r\n                  onDelete={handleDelete}\r\n                  label=\"Search Tags\"\r\n                  variant=\"outlined\"\r\n                />\r\n                <Button\r\n                  onClick={searchPost}\r\n                  className={classes.searchButton}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  fullWidth\r\n                >\r\n                  Search\r\n                </Button>\r\n              </form>\r\n            </Paper>\r\n\r\n            <Form\r\n              currentId={currentId}\r\n              setCurrentId={setCurrentId}\r\n              isLoggedIn={isLoggedIn}\r\n            />\r\n            <Paper className={classes.pagination} elevation={6}>\r\n              <Paginate page={page} />\r\n            </Paper>\r\n          </Grid>\r\n        </Grid>\r\n      </Container>\r\n    </Grow>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}